<!DOCTYPE html>
<html lang="en">
<head>

    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            const timezoneField = document.getElementById('timezone');
            timezoneField.value = Intl.DateTimeFormat().resolvedOptions().timeZone;
        });
    </script>
</head>
<body>
<h2>Create Task</h2>

    <form method="post">
        {% csrf_token %}
        <label for="title">Title:</label>
        <input type="text" id="title" name="title">
        <br>
        <label for="description">Description:</label>
        <textarea id="description" name="description"></textarea>
        <br>
        <label for="due_date">Due Date:</label>
        <input type="date" id="due_date" name="due_date">
        <br>
        <label for="completed">Completed:</label>
        <input type="checkbox" id="completed" name="completed">
        <br>
        <label for="category">Category:</label>
        <select id="category" name="category">
            {% for category in categories %}
                <option value="{{ category.id }}">
                    {{ category.name }}
                </option>
            {% endfor %}
        </select>
        <br>
        <label for="remind_at">Reminder:</label>
        <input  type="datetime-local" id="remind_at" name="remind_at">
        <input type="hidden" id="timezone" name="timezone">
        <br>
        <button type="submit">Create</button>

    </form>
</body>
</html>